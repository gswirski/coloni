Resource:
  tableName: resource
  columns:
    id:
      type: integer(1)
      primary: true
      autoincrement: true
    module_name:
      type: string(50)
      notnull: true
    type:
      type: enum
      values: ['fundamental', 'extra', 'rating']
      notnull: true

FundamentalResource:
  inheritance:
    extends: Resource
    type: column_aggregtion
    keyField: type
    keyValue: 'fundamental'

ExtraResource:
  inheritance:
    extends: Resource
    type: column_aggregtion
    keyField: type
    keyValue: 'extra'

RatingResource:
  inheritance:
    extends: Resource
    type: column_aggregtion
    keyField: type
    keyValue: 'rating'

SettlementResource:
  tableName: settlement_resource
  columns:
    settlement_id:
      type: integer(4)
      primary: true
    resource_id:
      type: integer(1)
      primary: true
    production:
      type: integer(2)
      notnull: true
    count:
      type: integer(4)
      notnull: true
  relations:
    Settlement:
      local: settlement_id
      foreign: id
      type: one
    Resource:
      local: resource_id
      foreign: id
      type: one
